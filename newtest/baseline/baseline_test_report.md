# Baseline Agent æµ‹è¯•æŠ¥å‘Š

**æµ‹è¯•æ—¶é—´**: 2026-01-15  
**æµ‹è¯•è„šæœ¬**: `newtest/baseline/batch_test.py`  
**æµ‹è¯•èŒƒå›´**: 100ä¸ªé—®é¢˜  
**Agent**: EnhancedBaselineAgent (LLMç”Ÿæˆè¿‡æ»¤æ¡ä»¶)

---

## ğŸ“Š æ•´ä½“æ€§èƒ½

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ€»æµ‹è¯•æ•° | 100 |
| æ­£ç¡®æ•° | 82 |
| é”™è¯¯æ•° | 18 |
| å‡†ç¡®ç‡ | **82.00%** |

---

## ğŸ“ˆ æŒ‰é—®é¢˜ç±»å‹åˆ†æ

### å‡†ç¡®ç‡å¯¹æ¯”

| é—®é¢˜ç±»å‹ | æ­£ç¡®/æ€»æ•° | å‡†ç¡®ç‡ | è¯„ä»· |
|---------|----------|--------|------|
| å•ç‚¹æŸ¥è¯¢ | 25/25 | 100.0% | âœ… å®Œç¾ |
| æœˆåº¦æ±‡æ€» | 6/6 | 100.0% | âœ… å®Œç¾ |
| ç¯æ¯”è®¡ç®— | 5/5 | 100.0% | âœ… å®Œç¾ |
| nullç­”æ¡ˆ | 4/4 | 100.0% | âœ… å®Œç¾ |
| åŒæ¯”è®¡ç®— | 30/35 | 85.7% | âš ï¸ è‰¯å¥½ |
| æ€»é”€é‡ | 11/21 | **52.4%** | âŒ è¾ƒå·® |
| å¯¹æ¯”/æ’å | 1/4 | **25.0%** | âŒ å¾ˆå·® |

### ç±»å‹åˆ†å¸ƒ

```
åŒæ¯”è®¡ç®—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35ä¸ª (35%)
æ€»é”€é‡      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 21ä¸ª (21%)
å•ç‚¹æŸ¥è¯¢    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 21ä¸ª (21%)
æœˆåº¦æ±‡æ€»    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 6ä¸ª (6%)
ç¯æ¯”è®¡ç®—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 5ä¸ª (5%)
å¯¹æ¯”/æ’å   â–ˆâ–ˆâ–ˆâ–ˆ 4ä¸ª (4%)
nullç­”æ¡ˆ    â–ˆâ–ˆâ–ˆâ–ˆ 4ä¸ª (4%)
```

---

## ğŸ”´ é”™è¯¯è¯¦ç»†åˆ†æ

### 1. æ€»é”€é‡è®¡ç®—é”™è¯¯ (10/21, 52.4%å‡†ç¡®ç‡)

#### é”™è¯¯æ¡ˆä¾‹1: ID 35
**é—®é¢˜**: ä¸€æ±½å¤§ä¼—é«˜å°”å¤«A8åœ¨2023-01æœˆåˆ°2023-06æœˆä¹‹é—´çš„é”€é‡æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 24699 è¾†
å®é™…ç­”æ¡ˆ: 24700 è¾†
è¯¯å·®: +1 è¾†
```

**åˆ†æ**: LLMç´¯åŠ è®¡ç®—æ—¶å‡ºç°ç²¾åº¦è¯¯å·®ï¼Œå¯èƒ½æ˜¯æµ®ç‚¹æ•°è®¡ç®—å¯¼è‡´

**å½±å“**: å°è¯¯å·®ï¼Œå®é™…ä¸šåŠ¡å½±å“ä¸å¤§

---

#### é”™è¯¯æ¡ˆä¾‹2: ID 37 (ä¸¥é‡)
**é—®é¢˜**: æ¯”äºšè¿ªæµ·è±šåœ¨2023-01æœˆåˆ°2023-12æœˆä¹‹é—´(åŒ…å«12æœˆ)çš„é”€é‡æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 367419 è¾†
å®é™…ç­”æ¡ˆ: 387419 è¾†
è¯¯å·®: +20000 è¾† (5.4%è¯¯å·®)
```

**åˆ†æ**: 
- ä¸¥é‡é”™è¯¯ï¼Œè¯¯å·®è¶…è¿‡5%
- å¯èƒ½ä½¿ç”¨äº†ä¸å®Œæ•´çš„æ•°æ®é›†æˆ–é‡å¤è®¡ç®—äº†æŸäº›æ•°æ®
- éœ€è¦æ£€æŸ¥LLMç­›é€‰çš„æ•°æ®æ˜¯å¦å®Œæ•´

**å½±å“**: ä¸¥é‡ï¼Œå½±å“ä¸šåŠ¡å†³ç­–

---

#### é”™è¯¯æ¡ˆä¾‹3: ID 39
**é—®é¢˜**: ä¸€æ±½é›†å›¢åœ¨2023å…¨å¹´çš„æ€»é”€é‡ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 40473 è¾†
å®é™…ç­”æ¡ˆ: 40273 è¾†
è¯¯å·®: -200 è¾†
```

**åˆ†æ**: ç´¯åŠ è®¡ç®—é”™è¯¯ï¼Œå¯èƒ½æ¼æ‰äº†æŸäº›æ•°æ®

**å½±å“**: ä¸­ç­‰

---

#### é”™è¯¯æ¡ˆä¾‹4: ID 41
**é—®é¢˜**: ä¸Šæ±½é€šç”¨åœ¨2021å…¨å¹´çš„é”€é‡æ€»å’Œï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 84486 è¾†
å®é™…ç­”æ¡ˆ: 85465 è¾†
è¯¯å·®: +979 è¾† (1.2%è¯¯å·®)
```

**åˆ†æ**: ç´¯åŠ è®¡ç®—é”™è¯¯ï¼Œå¯èƒ½åŒ…å«äº†ä¸è¯¥åŒ…å«çš„æ•°æ®

**å½±å“**: ä¸­ç­‰

---

#### é”™è¯¯æ¡ˆä¾‹5: ID 43
**é—®é¢˜**: ä¸€æ±½å¤§ä¼—æ½å¢ƒåœ¨2022å…¨å¹´çš„é”€é‡æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 26939 è¾†
å®é™…ç­”æ¡ˆ: 23110 è¾†
è¯¯å·®: -3829 è¾† (14.2%è¯¯å·®)
```

**åˆ†æ**: 
- ä¸¥é‡é”™è¯¯ï¼Œè¯¯å·®è¶…è¿‡14%
- åªè¿”å›äº†æ‘˜è¦ï¼Œæ²¡æœ‰è¯¦ç»†è®¡ç®—è¿‡ç¨‹
- å¯èƒ½æ•°æ®ç­›é€‰ä¸å®Œæ•´

**å½±å“**: ä¸¥é‡

---

#### å…¶ä»–æ€»é”€é‡é”™è¯¯

| ID | é—®é¢˜ | è¯¯å·® |
|----|------|------|
| 45 | ä¸€æ±½ä¸°ç”°äºšæ´²ç‹® 2021-04è‡³12æœˆ | +100 è¾† |
| 49 | å¹¿æ±½ä¹˜ç”¨è½¦ä¼ ç¥ºå½±è±¹ 2023å…¨å¹´ | +610 è¾† (1.3%) |

**æ€»é”€é‡é”™è¯¯ç‰¹ç‚¹**:
- ä¸»è¦æ˜¯ç´¯åŠ è®¡ç®—ç²¾åº¦é—®é¢˜
- ä¸ªåˆ«æ¡ˆä¾‹è¯¯å·®è¾ƒå¤§ï¼ˆ>5%ï¼‰
- å»ºè®®å¼•å…¥Pythonä»£ç æ‰§è¡Œä¿è¯è®¡ç®—ç²¾åº¦

---

### 2. å¯¹æ¯”/æ’åæŸ¥è¯¢é”™è¯¯ (3/4, 25.0%å‡†ç¡®ç‡)

#### é”™è¯¯æ¡ˆä¾‹1: ID 75 (ç­”æ¡ˆæ ¼å¼é—®é¢˜)
**é—®é¢˜**: 2023-12ï¼Œå“ªä¸ªè½¦ä¼é”€é‡æœ€å¥½ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: å›½å†…åˆ¶é€ ï¼š1,349,499è¾†
å®é™…ç­”æ¡ˆ: å›½å†…åˆ¶é€ , 1349499 è¾†
åˆ¤æ–­: âŒ é”™è¯¯
```

**åˆ†æ**: 
- æ•°å€¼ç›¸åŒï¼ˆ1,349,499 = 1349499ï¼‰
- ç­”æ¡ˆæ¯”è¾ƒå™¨æ²¡æœ‰æ­£ç¡®å¤„ç†åƒåˆ†ä½åˆ†éš”ç¬¦
- æ ¼å¼å·®å¼‚å¯¼è‡´è¯¯åˆ¤

**å½±å“**: å®é™…ç­”æ¡ˆæ­£ç¡®ï¼Œä½†æ¯”è¾ƒé€»è¾‘éœ€è¦æ”¹è¿›

---

#### é”™è¯¯æ¡ˆä¾‹2: ID 77 (ä¸¥é‡)
**é—®é¢˜**: 2023-06ï¼Œå“ªå®¶è½¦ä¼é”€é‡æœ€å¥½ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: å›½å†…åˆ¶é€ , 11520è¾†
å®é™…ç­”æ¡ˆ: å›½å†…åˆ¶é€ , 1152048 è¾†
è¯¯å·®: 11520 vs 1152048 (ç›¸å·®100å€ï¼)
```

**åˆ†æ**: 
- ä¸¥é‡é”™è¯¯ï¼Œæ•°å€¼ç›¸å·®100å€
- å¯èƒ½æŠŠæ‰€æœ‰"å›½å†…åˆ¶é€ "ç›¸å…³ç±»åˆ«çš„é”€é‡éƒ½åŠ æ€»äº†
- æ ‡å‡†ç­”æ¡ˆå¯èƒ½åªè®¡ç®—äº†ç‰¹å®šç±»åˆ«ï¼ˆå¦‚1.0L-1.6Lï¼‰
- ç­”æ¡ˆæå–å™¨ä¹Ÿæ²¡æœ‰è¯†åˆ«å‡º"1,152,048"ä¸­çš„åƒåˆ†ä½åˆ†éš”ç¬¦

**å½±å“**: ä¸¥é‡ï¼Œå®Œå…¨é”™è¯¯

---

#### é”™è¯¯æ¡ˆä¾‹3: ID 87
**é—®é¢˜**: 2023-06ï¼Œä¸€æ±½å¤§ä¼—å’Œæ¯”äºšè¿ªçš„é”€é‡å¯¹æ¯”å¦‚ä½•ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: ä¸€æ±½å¤§ä¼—: 9533 è¾†, æ¯”äºšè¿ª: 31140 è¾†
å®é™…ç­”æ¡ˆ: ä¸€æ±½å¤§ä¼—: 4045 è¾†, æ¯”äºšè¿ª: 31140 è¾†
é”™è¯¯: ä¸€æ±½å¤§ä¼—åªç”¨äº†"æ½å¢ƒ"ï¼Œæ¼æ‰äº†"é«˜å°”å¤«A8" (5488è¾†)
```

**åˆ†æ**: 
- å“ç‰Œæ±‡æ€»ä¸å®Œæ•´
- åªé€‰å–äº†éƒ¨åˆ†è½¦å‹ï¼ˆæ½å¢ƒï¼‰ï¼Œé—æ¼äº†é«˜å°”å¤«A8
- ç­›é€‰é€»è¾‘æœ‰é—®é¢˜ï¼Œå¯èƒ½display_nameåŒ¹é…ä¸å‡†ç¡®

**å½±å“**: ä¸¥é‡ï¼Œå¯¹æ¯”æ•°æ®é”™è¯¯

---

**å¯¹æ¯”/æ’åé”™è¯¯ç‰¹ç‚¹**:
- å“ç‰Œæ±‡æ€»ä¸å®Œæ•´æ˜¯ä¸»è¦é—®é¢˜
- ç­”æ¡ˆæ ¼å¼è§£æéœ€è¦æ”¹è¿›ï¼ˆåƒåˆ†ä½åˆ†éš”ç¬¦ï¼‰
- éœ€è¦æ˜ç¡®å“ç‰Œä¸è½¦å‹çš„èšåˆé€»è¾‘

---

### 3. åŒæ¯”è®¡ç®—é”™è¯¯ (5/35, 85.7%å‡†ç¡®ç‡)

#### é”™è¯¯æ¡ˆä¾‹1: ID 57 (ç²¾åº¦é—®é¢˜)
**é—®é¢˜**: æ¯”äºšè¿ªåœ¨2023-06æœˆçš„é”€é‡åŒæ¯”å¢é•¿æ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 200.11565150346954%
å®é™…ç­”æ¡ˆ: 199.22587563308520%
è¯¯å·®: 0.89%
```

**åˆ†æ**: 
- æµ®ç‚¹ç²¾åº¦è¯¯å·®
- å·®å¼‚åœ¨0.89%ä»¥å†…ï¼Œå®é™…å½±å“å¾ˆå°
- ç­”æ¡ˆæ¯”è¾ƒå™¨å…è®¸0.01%è¯¯å·®ï¼Œä½†è¿™é‡Œè¯¯åˆ¤ä¸ºé”™è¯¯

**å½±å“**: è¾ƒå°ï¼Œå®é™…å¯ä»¥æ¥å—

---

#### é”™è¯¯æ¡ˆä¾‹2: ID 97
**é—®é¢˜**: 2018-05ï¼ŒåŒ—æ±½é“¶ç¿”å¹»é€ŸH3çš„é”€é‡åŒæ¯”å¢é•¿æ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: -70.20492407489311%
å®é™…ç­”æ¡ˆ: -70.23937779123456%
è¯¯å·®: 0.034%
```

**åˆ†æ**: æµ®ç‚¹ç²¾åº¦è¯¯å·®

---

#### é”™è¯¯æ¡ˆä¾‹3: ID 105 (ä¸¥é‡)
**é—®é¢˜**: 2018-12ï¼Œæ½æŸ´æ±½è½¦è‹±è‡´G3çš„é”€é‡åŒæ¯”å¢é•¿æ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: -62.63736263736264%
å®é™…ç­”æ¡ˆ: 167.64705882352941%
é”™è¯¯: å¢é•¿ç‡è¯¯åˆ¤ï¼ˆå®é™…æ˜¯ä¸‹é™ï¼Œè®¡ç®—æˆäº†å¢é•¿ï¼‰
```

**åˆ†æ**: 
- ä¸¥é‡é”™è¯¯ï¼Œç¬¦å·ç›¸å
- å¯èƒ½ç”¨é”™äº†å»å¹´åŒæœŸæ•°æ®ï¼Œæˆ–æåäº†å½“æœŸ/å»å¹´åŒæœŸ
- è®¡ç®—é€»è¾‘é”™è¯¯

**å½±å“**: ä¸¥é‡ï¼Œå®Œå…¨ç›¸åçš„ç»“è®º

---

#### é”™è¯¯æ¡ˆä¾‹4: ID 111
**é—®é¢˜**: 2022-11ï¼Œä¸€æ±½é›†å›¢å¥”è…¾NATçš„é”€é‡åŒæ¯”å¢é•¿æ˜¯å¤šå°‘ï¼Ÿ

```
æ ‡å‡†ç­”æ¡ˆ: 341.78885630498534%
å®é™…ç­”æ¡ˆ: 341.78885630498536%
è¯¯å·®: 0.00000000000002% (æå°ç²¾åº¦è¯¯å·®)
```

**åˆ†æ**: æµ®ç‚¹ç²¾åº¦è¯¯å·®ï¼Œå®é™…å¯ä»¥å¿½ç•¥

---

**åŒæ¯”è®¡ç®—é”™è¯¯ç‰¹ç‚¹**:
- 85.7%å‡†ç¡®ç‡ï¼Œæ€»ä½“è¡¨ç°è‰¯å¥½
- ä¸»è¦é—®é¢˜æ˜¯æµ®ç‚¹ç²¾åº¦è¯¯å·®ï¼ˆå½±å“è¾ƒå°ï¼‰
- ä¸ªåˆ«æ¡ˆä¾‹è®¡ç®—é€»è¾‘é”™è¯¯ï¼ˆå½±å“ä¸¥é‡ï¼‰

---

## âš™ï¸ æ€§èƒ½æŒ‡æ ‡

### Token æ¶ˆè€—

| æŒ‡æ ‡ | è¾“å…¥Token | è¾“å‡ºToken | æ€»è®¡ |
|------|-----------|-----------|------|
| å¹³å‡å€¼ | 1206 | 354 | 1560 |
| æœ€å°å€¼ | - | - | 1077 |
| æœ€å¤§å€¼ | 2809 | 1244 | 3717 |

**åˆ†æ**:
- è¾“å…¥Tokenå¹³å‡1206ï¼Œå¤æ‚æŸ¥è¯¢ï¼ˆå¦‚æ€»é”€é‡ï¼‰ä¼šæ›´é«˜
- è¾“å‡ºTokenå¹³å‡354ï¼Œæœˆåº¦æ±‡æ€»ç­‰éœ€è¦è¯¦ç»†è¾“å‡ºçš„ç±»å‹ä¼šæ›´é«˜
- æœ€å¤§Tokenæ¶ˆè€—3717ï¼Œåœ¨å¯æ¥å—èŒƒå›´å†…

### å“åº”æ—¶é—´

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| å¹³å‡å€¼ | 3.55ç§’ |
| æœ€å°å€¼ | 1.23ç§’ |
| æœ€å¤§å€¼ | 11.34ç§’ |

**åˆ†æ**:
- å¹³å‡å“åº”æ—¶é—´3.55ç§’ï¼Œæ€§èƒ½è‰¯å¥½
- æœ€é•¿å“åº”11.34ç§’ï¼Œå‡ºç°åœ¨å¤æ‚æŸ¥è¯¢ï¼ˆå¦‚æ€»é”€é‡ã€æœˆåº¦æ±‡æ€»ï¼‰
- å“åº”æ—¶é—´ä¸é—®é¢˜å¤æ‚åº¦æ­£ç›¸å…³

### ç­›é€‰æ•°æ®è¡Œæ•°

ä»æµ‹è¯•ç»“æœä¸­ç»Ÿè®¡çš„ `filtered_rows`:

- å¹³å‡ç­›é€‰è¡Œæ•°: ~5-10è¡Œ
- æœ€å°‘ç­›é€‰: 0è¡Œï¼ˆnullç­”æ¡ˆï¼‰
- æœ€å¤šç­›é€‰: 33è¡Œï¼ˆå¤æ‚æ’åæŸ¥è¯¢ï¼‰

**åˆ†æ**:
- LLMç”Ÿæˆçš„è¿‡æ»¤æ¡ä»¶æ•´ä½“æœ‰æ•ˆ
- å¤§éƒ¨åˆ†æŸ¥è¯¢èƒ½ç²¾å‡†ç­›é€‰åˆ°ç›¸å…³æ•°æ®
- å¤æ‚æ’åæŸ¥è¯¢éœ€è¦å¤„ç†æ›´å¤šæ•°æ®è¡Œ

---

## ğŸ¯ æ€»ç»“ä¸å»ºè®®

### âœ… ä¼˜ç‚¹

1. **åŸºç¡€æŸ¥è¯¢èƒ½åŠ›æå¼º**
   - å•ç‚¹æŸ¥è¯¢: 100%å‡†ç¡®
   - nullç­”æ¡ˆè¯†åˆ«: 100%å‡†ç¡®
   - è¯´æ˜LLMå¯¹æ•°æ®ç­›é€‰å’Œå®šä½èƒ½åŠ›ä¼˜ç§€

2. **æ—¶é—´åºåˆ—å¤„ç†å¥½**
   - æœˆåº¦æ±‡æ€»: 100%å‡†ç¡®
   - ç¯æ¯”è®¡ç®—: 100%å‡†ç¡®
   - è¯´æ˜LLMå¯¹æ—¶é—´æ•°æ®çš„æ•´ç†å’Œè®¡ç®—èƒ½åŠ›è‰¯å¥½

3. **æ€§èƒ½è¡¨ç°è‰¯å¥½**
   - å¹³å‡å“åº”æ—¶é—´: 3.55ç§’
   - Tokenæ¶ˆè€—åˆç†
   - è¿‡æ»¤æ¡ä»¶ç”Ÿæˆæœ‰æ•ˆ

### âŒ ä¸»è¦é—®é¢˜

#### 1. æ€»é”€é‡è®¡ç®—è¯¯å·®å¤§ (52.4%å‡†ç¡®ç‡)

**é—®é¢˜è¡¨ç°**:
- LLMç´¯åŠ è®¡ç®—å®¹æ˜“å‡ºé”™
- ä¸ªåˆ«æ¡ˆä¾‹è¯¯å·®è¶…è¿‡14%
- æµ®ç‚¹ç²¾åº¦é—®é¢˜å¯¼è‡´å°è¯¯å·®

**æ ¹æœ¬åŸå› **:
- LLMåœ¨å¤æ‚ç´¯åŠ è®¡ç®—ä¸Šä¸å¯é 
- æ²¡æœ‰ä»£ç æ‰§è¡Œæœºåˆ¶ä¿è¯è®¡ç®—ç²¾åº¦

**æ”¹è¿›å»ºè®®**:
```python
# æ–¹æ¡ˆ1: å¼•å…¥Pythonä»£ç æ‰§è¡Œ
def calculate_with_code(query: str, data: pd.DataFrame):
    prompt = f"""
    è¯·ç”ŸæˆPythonä»£ç æ¥è®¡ç®—: {query}
    
    æ•°æ®å˜é‡å: df
    dfçš„åˆ—: {df.columns.tolist()}
    
    åªè¿”å›ä»£ç ï¼Œä¸è¦è§£é‡Šã€‚
    """
    code = llm.generate(prompt)
    result = execute_safely(code, df=df)
    return result

# æ–¹æ¡ˆ2: ä½¿ç”¨pandasçš„èšåˆå‡½æ•°
df_grouped = df.groupby(['brand', 'model'])['sales'].sum()
result = df_grouped.sum()
```

#### 2. å¯¹æ¯”/æ’åæŸ¥è¯¢å·® (25.0%å‡†ç¡®ç‡)

**é—®é¢˜è¡¨ç°**:
- å“ç‰Œæ±‡æ€»ä¸å®Œæ•´
- ç­”æ¡ˆæ ¼å¼è§£æé—®é¢˜ï¼ˆåƒåˆ†ä½åˆ†éš”ç¬¦ï¼‰
- èšåˆé€»è¾‘ä¸æ¸…æ™°

**æ ¹æœ¬åŸå› **:
- å“ç‰Œ/è½¦å‹å…³ç³»å®šä¹‰ä¸æ˜ç¡®
- display_nameä¸­åŒ…å«å¤šä¸ªå­ç±»åˆ«ï¼Œèšåˆè§„åˆ™ä¸ç»Ÿä¸€
- ç­”æ¡ˆæ¯”è¾ƒå™¨æœªå¤„ç†æ ¼å¼å·®å¼‚

**æ”¹è¿›å»ºè®®**:
```python
# æ–¹æ¡ˆ1: æ”¹è¿›ç­”æ¡ˆæ¯”è¾ƒå™¨
def extract_number(text: str) -> float:
    # æå–æ•°å­—ï¼Œå¤„ç†åƒåˆ†ä½åˆ†éš”ç¬¦
    import re
    match = re.search(r'[\d,]+\.?\d*', text)
    if match:
        number_str = match.group().replace(',', '')
        return float(number_str)
    return None

# æ–¹æ¡ˆ2: æ˜ç¡®å“ç‰Œèšåˆè§„åˆ™
BRAND_AGGREGATION = {
    "ä¸€æ±½å¤§ä¼—": ["ä¸€æ±½å¤§ä¼—é«˜å°”å¤«A8", "ä¸€æ±½å¤§ä¼—æ½å¢ƒ", "ä¸€æ±½å¤§ä¼—å…¶ä»–è½¦å‹..."],
    "æ¯”äºšè¿ª": ["æ¯”äºšè¿ªæµ·è±š", "æ¯”äºšè¿ªå…¶ä»–è½¦å‹..."],
}

def aggregate_by_brand(df: pd.DataFrame, brand: str) -> pd.DataFrame:
    models = BRAND_AGGREGATION.get(brand, [])
    return df[df['model'].isin(models)]
```

#### 3. åŒæ¯”è®¡ç®—æœ‰è¯¯ (85.7%å‡†ç¡®ç‡)

**é—®é¢˜è¡¨ç°**:
- æµ®ç‚¹ç²¾åº¦è¯¯å·®ï¼ˆå½±å“è¾ƒå°ï¼‰
- ä¸ªåˆ«æ¡ˆä¾‹è®¡ç®—é€»è¾‘é”™è¯¯ï¼ˆå½±å“ä¸¥é‡ï¼‰

**æ ¹æœ¬åŸå› **:
- LLMåœ¨å…¬å¼åº”ç”¨ä¸Šå¶å°”å‡ºé”™
- æ²¡æœ‰ä»£ç æ‰§è¡ŒéªŒè¯

**æ”¹è¿›å»ºè®®**:
```python
# ä½¿ç”¨Pythonä»£ç æ‰§è¡Œä¿è¯å‡†ç¡®æ€§
def calculate_yoy(current_sales: float, last_year_sales: float) -> float:
    yoy = (current_sales - last_year_sales) / last_year_sales * 100
    return round(yoy, 14)  # ä¿ç•™14ä½å°æ•°

# åœ¨promptä¸­æä¾›è®¡ç®—æ¡†æ¶
prompt = f"""
è¯·ä½¿ç”¨ä»¥ä¸‹Pythonä»£ç æ¡†æ¶è®¡ç®—åŒæ¯”:

```python
current_sales = {{å½“æœŸé”€é‡}}
last_year_sales = {{å»å¹´åŒæœŸé”€é‡}}
yoy = (current_sales - last_year_sales) / last_year_sales * 100
result = round(yoy, 14)
print(f"ã€ç­”æ¡ˆï¼š{{result}}%ã€‘")
```

å¡«å…¥æ­£ç¡®çš„æ•°å€¼å¹¶è¿”å›å®Œæ•´ä»£ç ã€‚
"""
```

#### 4. ç­”æ¡ˆæ¯”è¾ƒå™¨æ”¹è¿›

**å½“å‰é—®é¢˜**:
```python
# å½“å‰å®ç°
if standard_value == actual_answer:
    return True, "æ–‡æœ¬å®Œå…¨åŒ¹é…"
```

**æ”¹è¿›æ–¹æ¡ˆ**:
```python
def compare_answers(self, standard_answer: str, actual_answer: str) -> tuple[bool, str]:
    # 1. æå–æ•°å€¼ï¼ˆå¤„ç†åƒåˆ†ä½åˆ†éš”ç¬¦ï¼‰
    std_num = self._extract_number(standard_answer)
    act_num = self._extract_number(actual_answer)
    
    # 2. å¦‚æœéƒ½æ˜¯æ•°å€¼å‹ï¼Œæ¯”è¾ƒæ•°å€¼è€Œéæ–‡æœ¬
    if std_num is not None and act_num is not None:
        # å¤§æ•°å€¼å…è®¸ç›¸å¯¹è¯¯å·®
        if abs(std_num) > 10000:  # å¤§äº1ä¸‡
            tolerance = abs(std_num) * 0.001  # å…è®¸0.1%è¯¯å·®
            if abs(std_num - act_num) <= tolerance:
                return True, f"æ•°å€¼åŒ¹é…ï¼ˆå®¹å·®0.1%ï¼‰: {std_num} â‰ˆ {act_num}"
        
        # å°æ•°å€¼ä¸¥æ ¼åŒ¹é…
        if std_num == act_num:
            return True, f"æ•°å€¼ç²¾ç¡®åŒ¹é…: {std_num}"
        else:
            return False, f"æ•°å€¼ä¸åŒ¹é…: {std_num} != {act_num}"
    
    # 3. ç™¾åˆ†æ¯”æ¯”è¾ƒ
    if '%' in standard_answer and '%' in actual_answer:
        # ç°æœ‰é€»è¾‘...
    
    # 4. æ–‡æœ¬åŒ¹é…
    # å»é™¤æ ‡ç‚¹ã€ç©ºæ ¼åæ¯”è¾ƒ
    std_clean = re.sub(r'[,ï¼Œ.ã€\s]', '', standard_answer)
    act_clean = re.sub(r'[,ï¼Œ.ã€\s]', '', actual_answer)
    if std_clean == act_clean:
        return True, f"æ–‡æœ¬åŒ¹é…: {standard_answer}"
    
    return False, f"æ–‡æœ¬ä¸åŒ¹é…: '{standard_answer}' != '{actual_answer}'"
```

### ğŸ“‹ ä¼˜å…ˆçº§æ”¹è¿›æ¸…å•

| ä¼˜å…ˆçº§ | é—®é¢˜ | æ”¹è¿›æ–¹æ¡ˆ | é¢„æœŸæå‡ |
|--------|------|----------|----------|
| ğŸ”´ é«˜ | æ€»é”€é‡è®¡ç®—è¯¯å·® | å¼•å…¥Pythonä»£ç æ‰§è¡Œ | +15%å‡†ç¡®ç‡ |
| ğŸ”´ é«˜ | å¯¹æ¯”/æ’åæŸ¥è¯¢ | æ”¹è¿›å“ç‰Œèšåˆé€»è¾‘ | +10%å‡†ç¡®ç‡ |
| ğŸŸ¡ ä¸­ | ç­”æ¡ˆæ¯”è¾ƒå™¨ | å¤„ç†åƒåˆ†ä½åˆ†éš”ç¬¦ | +5%å‡†ç¡®ç‡ |
| ğŸŸ¡ ä¸­ | åŒæ¯”è®¡ç®—é”™è¯¯ | ä»£ç æ‰§è¡ŒéªŒè¯ | +2%å‡†ç¡®ç‡ |
| ğŸŸ¢ ä½ | Promptä¼˜åŒ– | å¼ºè°ƒè®¡ç®—ç²¾åº¦ | +1%å‡†ç¡®ç‡ |

---

## ğŸ“Š é¢„æœŸæ”¹è¿›æ•ˆæœ

å®æ–½ä¸Šè¿°æ”¹è¿›åï¼Œé¢„æœŸå‡†ç¡®ç‡æå‡:

| é—®é¢˜ç±»å‹ | å½“å‰å‡†ç¡®ç‡ | é¢„æœŸå‡†ç¡®ç‡ | æå‡ |
|---------|-----------|-----------|------|
| å•ç‚¹æŸ¥è¯¢ | 100.0% | 100.0% | - |
| æœˆåº¦æ±‡æ€» | 100.0% | 100.0% | - |
| ç¯æ¯”è®¡ç®— | 100.0% | 100.0% | - |
| nullç­”æ¡ˆ | 100.0% | 100.0% | - |
| åŒæ¯”è®¡ç®— | 85.7% | 95.0% | +9.3% |
| æ€»é”€é‡ | 52.4% | 85.0% | +32.6% |
| å¯¹æ¯”/æ’å | 25.0% | 75.0% | +50.0% |
| **æ•´ä½“** | **82.0%** | **93.0%** | **+11.0%** |

---

## ğŸ“ é™„å½•

### æµ‹è¯•é…ç½®

```python
# Agenté…ç½®
- Agentç±»å‹: EnhancedBaselineAgent
- æ¨¡å‹: qwen-flash
- æ•°æ®æº: baseline/æ•°æ®æº_é”€é‡.csv
- æ¸©åº¦: 0.1 (ç”Ÿæˆç­”æ¡ˆ), 0 (ç”Ÿæˆè¿‡æ»¤æ¡ä»¶)

# æµ‹è¯•é…ç½®
- é—®é¢˜æ•°é‡: 100
- skip_existing: True
- question_indices: list(range(1, 11))  # ä»…æµ‹è¯•å‰10ä¸ªï¼ˆå®é™…æµ‹è¯•äº†100ä¸ªï¼‰
```

### è¯„ä¼°æ ‡å‡†

```python
# ç­”æ¡ˆæ¯”è¾ƒå™¨è§„åˆ™
1. ç™¾åˆ†æ¯”ç­”æ¡ˆ: è¯¯å·® <= 0.01%
2. æ•°å€¼ç­”æ¡ˆ: å€¼å¿…é¡»å®Œå…¨ç›¸ç­‰
3. æ–‡æœ¬ç­”æ¡ˆ: å¿…é¡»å®Œå…¨åŒ¹é…
```

### æµ‹è¯•ç»“æœæ–‡ä»¶

- ä½ç½®: `newtest/baseline/evaluations.jsonl`
- æ ¼å¼: JSONL (æ¯è¡Œä¸€æ¡è®°å½•)
- è®°å½•æ•°: 100

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-15  
**æŠ¥å‘Šç”Ÿæˆå·¥å…·**: analyze_results.py
